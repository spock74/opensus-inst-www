<div class="header">
  <ul class="nav nav-pills pull-right">
    <li><a ng-href="#/Home">Home</a>
    <li><a ng-href="#/geosus">OpenSUS</a></li>
    <li class="active"><a ng-href="#/transparencias">TransparÃªncias</a></li>
    <li><a ng-href="#/login">Login</a></li>
    <li><a ng-href="#/signup">Criar Conta</a></li>
    <li><a ng-href="#/help">Ajuda</a></li>
    <li><a ng-href="#/contact">Contato</a></li>
    <li><a ng-href="#/about">Sobre</a></li>
  </ul>
  <h3 class="text-muted">&nbsp;</h3>

</div>


<p>This is the transparencias view.</p>


<h1>The Plottig Widget</h1>

<b>Ticker</b> <input type="text" value="MSFT" id="ticker">

<button id="submitbutton" type="button">Submit to server!</button> <br><br>

<div id="plotdiv" style="width: 600px; height: 600px;"></div>    


<!-- some text, not part of the app -->
<p>This is a demo of the <code>rplot</code> function in the <a href="http://public.opencpu.org/jslib.html">opencpu.js</a> library. It calls the R function <a href="http://public.opencpu.org/ocpu/library/stocks/R/smoothplot">smoothplot</a> in the R package <a href="http://public.opencpu.org/ocpu/library/stocks/R/">stocks</a>.</p>



<script type="text/javascript">

//set CORS to call "stocks" package on public server
ocpu.seturl("//public.opencpu.org/ocpu/library/stocks/R")
  
//call R function: stocks::smoothplot(ticker=ticker)
$("#submitbutton").click(function(){
    var ticker = $("#ticker").val();    
    var req = $("#plotdiv").rplot("smoothplot", {
        ticker : ticker,
        from : "2010-01-01"
    });
    
    //optional
    req.fail(function(){
        alert("R returned an error: " + req.responseText); 
    });
});
</script>

